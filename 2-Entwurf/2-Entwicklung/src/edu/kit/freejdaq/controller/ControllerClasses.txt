@startuml

package edu.kit.freejdaq.controller {

	class CommandManager {
		+ doCommand(cmd : Command) : void
		+ undo() : void
		+ redo() : void
	}
	
	note top of CommandManager : doCommand(cmd : Command)\n    cmd.execute()\n    doneCommands.push(cmd)\n    undoneCommands.clear()
	note left of CommandManager : undo()\n    cmd = doneCommands.pop()\n    cmd.unExecute()\n    undoneCommands.push(cmd)
	note right of CommandManager : redo()\n    cmd = undoneCommands.pop()\n    cmd.execute()\n    doneCommands.push(cmd)
	
	CommandManager o-- Command : - doneCommands : Stack

	interface Command {
		+ execute() : void
		+ unExecute() : void
	}
	
	note right of Command : command parameters (e.g. blockID) are passed with the constructors
	
	class AddBlockToConfigCommand {
		- blockID : int
	}
	
	class ModifyBlockInConfigCommand {
		- blockID : int
	}
	
	class DeleteBlockFromConfigCommand {
		- blockID : int
	}
	
	class ShowHelpCommand {
		- blockID : int
	}
	
	class SaveConfigCommand {
		- filePath : String
	}
	
	class LoadConfigCommand {
		- filePath : String
	}
	
	class ResetConfigCommand {
	}
	
	class CreateChannelConnectionCommand {
		- startChannelID : int
		- endChannelID : int
	}
	
	class ModifyChannelConnectionCommand {
		- oldStartChannelID : int
		- oldEndChannelID : int
		- newStartChannelID : int
		- newEndChannelID : int
	}
	
	class DeleteChannelConnectionCommand {
		- startChannelID : int
		- endChannelID : int
	}
	
	class StartRunCommand {
	}
	
	class StopRunCommand {
	}
	
	class PauseRunCommand {
	}
	
	class ResumeRunCommand {
	}
	
	Command <|.. AddBlockToConfigCommand
	Command <|.. DeleteBlockFromConfigCommand
	Command <|.. ModifyBlockInConfigCommand
	Command <|.. ShowHelpCommand
	Command <|.. SaveConfigCommand
	Command <|.. LoadConfigCommand
	Command <|.. ResetConfigCommand
	Command <|.. CreateChannelConnectionCommand
	Command <|.. ModifyChannelConnectionCommand
	Command <|.. DeleteChannelConnectionCommand
	Command <|.. StartRunCommand
	Command <|.. StopRunCommand
	Command <|.. PauseRunCommand
	Command <|.. ResumeRunCommand

}


@enduml