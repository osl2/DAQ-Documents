<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1069px" preserveAspectRatio="none" style="width:1804px;height:1069px;" version="1.1" viewBox="0 0 1804 1069" width="1804px" zoomAndPan="magnify"><defs><filter height="300%" id="f1nia6rc1qzavc" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1nia6rc1qzavc)" height="250.1953" style="stroke: #000000; stroke-width: 2.0;" width="1118.5" x="407.5" y="457.2891"/><rect fill="#FFFFFF" filter="url(#f1nia6rc1qzavc)" height="60.2656" style="stroke: #000000; stroke-width: 2.0;" width="1294.5" x="407.5" y="721.4844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="40" x2="40" y1="38.2969" y2="1028.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="193.5" x2="193.5" y1="38.2969" y2="1028.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="363.5" x2="363.5" y1="38.2969" y2="1028.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="469.5" x2="469.5" y1="38.2969" y2="1028.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="707" x2="707" y1="38.2969" y2="1028.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="857" x2="857" y1="38.2969" y2="1028.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1055.5" x2="1055.5" y1="38.2969" y2="1028.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1301" x2="1301" y1="38.2969" y2="1028.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1460" x2="1460" y1="38.2969" y2="1028.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1609" x2="1609" y1="38.2969" y2="1028.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1749" x2="1749" y1="38.2969" y2="1028.9453"/><rect fill="#FEFECE" filter="url(#f1nia6rc1qzavc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="61" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="15" y="22.9951">:Model</text><rect fill="#FEFECE" filter="url(#f1nia6rc1qzavc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="61" x="8" y="1027.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="15" y="1047.9404">:Model</text><rect fill="#FEFECE" filter="url(#f1nia6rc1qzavc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="131.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="138.5" y="22.9951">:MRunReaction</text><rect fill="#FEFECE" filter="url(#f1nia6rc1qzavc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="131.5" y="1027.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="138.5" y="1047.9404">:MRunReaction</text><rect fill="#FEFECE" filter="url(#f1nia6rc1qzavc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="84" x="319.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="326.5" y="22.9951">:MRunInfo</text><rect fill="#FEFECE" filter="url(#f1nia6rc1qzavc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="84" x="319.5" y="1027.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="70" x="326.5" y="1047.9404">:MRunInfo</text><rect fill="#FEFECE" filter="url(#f1nia6rc1qzavc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="417.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="424.5" y="22.9951">:MRunAgent</text><rect fill="#FEFECE" filter="url(#f1nia6rc1qzavc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="417.5" y="1027.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="424.5" y="1047.9404">:MRunAgent</text><rect fill="#FEFECE" filter="url(#f1nia6rc1qzavc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="105" x="653" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="91" x="660" y="22.9951">:MRunTiming</text><rect fill="#FEFECE" filter="url(#f1nia6rc1qzavc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="105" x="653" y="1027.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="91" x="660" y="1047.9404">:MRunTiming</text><rect fill="#FEFECE" filter="url(#f1nia6rc1qzavc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="166" x="772" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="779" y="22.9951">:SshCommandFactory</text><rect fill="#FEFECE" filter="url(#f1nia6rc1qzavc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="166" x="772" y="1027.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="152" x="779" y="1047.9404">:SshCommandFactory</text><rect fill="#FEFECE" filter="url(#f1nia6rc1qzavc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="1016.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="1023.5" y="22.9951">:SshToPi</text><rect fill="#FEFECE" filter="url(#f1nia6rc1qzavc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="75" x="1016.5" y="1027.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="61" x="1023.5" y="1047.9404">:SshToPi</text><rect fill="#FEFECE" filter="url(#f1nia6rc1qzavc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="182" x="1208" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="168" x="1215" y="22.9951">:SshCommandMRunAtPi</text><rect fill="#FEFECE" filter="url(#f1nia6rc1qzavc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="182" x="1208" y="1027.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="168" x="1215" y="1047.9404">:SshCommandMRunAtPi</text><rect fill="#FEFECE" filter="url(#f1nia6rc1qzavc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="1404" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="1411" y="22.9951">:MRunThread</text><rect fill="#FEFECE" filter="url(#f1nia6rc1qzavc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="1404" y="1027.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="1411" y="1047.9404">:MRunThread</text><rect fill="#FEFECE" filter="url(#f1nia6rc1qzavc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="162" x="1526" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="148" x="1533" y="22.9951">thread1:MRunThread</text><rect fill="#FEFECE" filter="url(#f1nia6rc1qzavc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="162" x="1526" y="1027.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="148" x="1533" y="1047.9404">thread1:MRunThread</text><rect fill="#FEFECE" filter="url(#f1nia6rc1qzavc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="1702" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="1709" y="22.9951">:TimerTask</text><rect fill="#FEFECE" filter="url(#f1nia6rc1qzavc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="1702" y="1027.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="1709" y="1047.9404">:TimerTask</text><polygon fill="#A80036" points="181.5,65.4297,191.5,69.4297,181.5,73.4297,185.5,69.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="40.5" x2="187.5" y1="69.4297" y2="69.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="47.5" y="64.3638">new MRunReaction()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="40.5" x2="50.5" y1="98.5625" y2="94.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40.5" x2="50.5" y1="98.5625" y2="102.5625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="40.5" x2="192.5" y1="98.5625" y2="98.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="57.5" y="93.4966">":MRunReaction"</text><polygon fill="#A80036" points="351.5,153.9609,361.5,157.9609,351.5,161.9609,355.5,157.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="40.5" x2="357.5" y1="157.9609" y2="157.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="47.5" y="122.6294">new MRunInfo(["InCh1", "InCh2"],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="299" x="47.5" y="137.7622">{"InCh1": [-1.0, -2.0], "InCh2": [-999.0, 999.0]},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="47.5" y="152.895">1000, 8000)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="40.5" x2="50.5" y1="187.0938" y2="183.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40.5" x2="50.5" y1="187.0938" y2="191.0938"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="40.5" x2="362.5" y1="187.0938" y2="187.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="57.5" y="182.0278">":MRunInfo"</text><path d="M39,200.0938 L39,240.0938 L343,240.0938 L343,210.0938 L333,200.0938 L39,200.0938 " fill="#FBFB77" filter="url(#f1nia6rc1qzavc)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M333,200.0938 L333,210.0938 L343,210.0938 L333,200.0938 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="283" x="45" y="217.1606">This sequence diagram use "sameMRunInfo"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="204" x="45" y="232.2935">to reference this data structure.</text><polygon fill="#A80036" points="457.5,266.4922,467.5,270.4922,457.5,274.4922,461.5,270.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="40.5" x2="463.5" y1="270.4922" y2="270.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="47.5" y="265.4263">start(sameMRunInfo,  [ :MRunReaction])</text><polygon fill="#A80036" points="695.5,300.625,705.5,304.625,695.5,308.625,699.5,304.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="469.5" x2="701.5" y1="304.625" y2="304.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="210" x="476.5" y="299.5591">new MRunTiming(sameMRunInfo)</text><path d="M712,283.4922 L712,308.4922 L1156,308.4922 L1156,293.4922 L1146,283.4922 L712,283.4922 " fill="#FBFB77" filter="url(#f1nia6rc1qzavc)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1146,283.4922 L1146,293.4922 L1156,293.4922 L1146,283.4922 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="423" x="718" y="300.5591">An intersection\nof including and included\nis advantageous  here.</text><rect fill="#FFFFFF" filter="url(#f1nia6rc1qzavc)" height="40.2656" style="stroke: #000000; stroke-width: 2.0;" width="180" x="414.5" y="317.625"/><polygon fill="#EEEEEE" points="414.5,317.625,480.5,317.625,480.5,324.625,470.5,334.625,414.5,334.625,414.5,317.625" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="427.5" y="331.6919">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="420.5" y="350.6919">Initialization of MRunTiming</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="469.5" x2="479.5" y1="384.0234" y2="380.0234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="469.5" x2="479.5" y1="384.0234" y2="388.0234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="469.5" x2="706.5" y1="384.0234" y2="384.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="486.5" y="378.9575">:MRunTiming</text><polygon fill="#A80036" points="695.5,409.1563,705.5,413.1563,695.5,417.1563,699.5,413.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="469.5" x2="701.5" y1="413.1563" y2="413.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="476.5" y="408.0903">getMStreamListener()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="469.5" x2="479.5" y1="442.2891" y2="438.2891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="469.5" x2="479.5" y1="442.2891" y2="446.2891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="469.5" x2="706.5" y1="442.2891" y2="442.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="486.5" y="437.2231">:MStreamListener</text><path d="M407.5,457.2891 L484.5,457.2891 L484.5,464.2891 L474.5,474.2891 L407.5,474.2891 L407.5,457.2891 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="250.1953" style="stroke: #000000; stroke-width: 2.0;" width="1118.5" x="407.5" y="457.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="422.5" y="470.356">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="329" x="499.5" y="469.4995">[not only for "InCh1", but the same for "InCh2" too]</text><polygon fill="#A80036" points="845,491.5547,855,495.5547,845,499.5547,849,495.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="469.5" x2="851" y1="495.5547" y2="495.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="298" x="476.5" y="490.4888">createMRunThread("InCh1", :MStreamListener)</text><polygon fill="#A80036" points="1044,520.6875,1054,524.6875,1044,528.6875,1048,524.6875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="857" x2="1050" y1="524.6875" y2="524.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="864" y="519.6216">new SshToPi(sameInitData)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="857" x2="867" y1="553.8203" y2="549.8203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="857" x2="867" y1="553.8203" y2="557.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="857" x2="1055" y1="553.8203" y2="553.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="874" y="548.7544">ssh1:SshToPi</text><polygon fill="#A80036" points="1289,578.9531,1299,582.9531,1289,586.9531,1293,582.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="857" x2="1295" y1="582.9531" y2="582.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="420" x="864" y="577.8872">new SshCommandMRunAtPi(:SshToPi, "InCh1", :MStreamListener)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="857" x2="867" y1="612.0859" y2="608.0859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="857" x2="867" y1="612.0859" y2="616.0859"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="857" x2="1300" y1="612.0859" y2="612.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="874" y="607.02">runnable1:SshCommandMRunAtPi</text><polygon fill="#A80036" points="1448,637.2188,1458,641.2188,1448,645.2188,1452,641.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="857" x2="1454" y1="641.2188" y2="641.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="273" x="864" y="636.1528">new MRunThread(:SshCommandMRunAtPi)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="857" x2="867" y1="670.3516" y2="666.3516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="857" x2="867" y1="670.3516" y2="674.3516"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="857" x2="1459" y1="670.3516" y2="670.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="874" y="665.2856">thread1:MRunThread</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="469.5" x2="479.5" y1="699.4844" y2="695.4844"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="469.5" x2="479.5" y1="699.4844" y2="703.4844"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="469.5" x2="856" y1="699.4844" y2="699.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="486.5" y="694.4185">thread1:MRunThread</text><path d="M407.5,721.4844 L484.5,721.4844 L484.5,728.4844 L474.5,738.4844 L407.5,738.4844 L407.5,721.4844 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="60.2656" style="stroke: #000000; stroke-width: 2.0;" width="1294.5" x="407.5" y="721.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="422.5" y="734.5513">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="329" x="499.5" y="733.6948">[not only for "InCh1", but the same for "InCh2" too]</text><polygon fill="#A80036" points="1597,755.75,1607,759.75,1597,763.75,1601,759.75" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="469.5" x2="1603" y1="759.75" y2="759.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="476.5" y="754.6841">start()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="469.5" x2="479.5" y1="773.75" y2="769.75"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="469.5" x2="479.5" y1="773.75" y2="777.75"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="469.5" x2="1459" y1="773.75" y2="773.75"/><polygon fill="#A80036" points="695.5,805.8828,705.5,809.8828,695.5,813.8828,699.5,809.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="469.5" x2="701.5" y1="809.8828" y2="809.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="214" x="476.5" y="804.8169">addMRunListener(:MRunReaction)</text><polygon fill="#A80036" points="695.5,835.0156,705.5,839.0156,695.5,843.0156,699.5,839.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="469.5" x2="701.5" y1="839.0156" y2="839.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="476.5" y="833.9497">startRepeatedTimer()</text><polygon fill="#A80036" points="1737.5,864.1484,1747.5,868.1484,1737.5,872.1484,1741.5,868.1484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="707.5" x2="1743.5" y1="868.1484" y2="868.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="714.5" y="863.0825">new TimerTask(self, 1000)</text><polygon fill="#A80036" points="718.5,893.2813,708.5,897.2813,718.5,901.2813,714.5,897.2813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="712.5" x2="1748.5" y1="897.2813" y2="897.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="724.5" y="892.2153">":TimerTask"</text><polygon fill="#A80036" points="480.5,922.4141,470.5,926.4141,480.5,930.4141,476.5,926.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="474.5" x2="706.5" y1="926.4141" y2="926.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="486.5" y="921.3481">void</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="40.5" x2="50.5" y1="983.2461" y2="979.2461"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40.5" x2="50.5" y1="983.2461" y2="987.2461"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="40.5" x2="468.5" y1="983.2461" y2="983.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="57.5" y="978.1802">true</text><path d="M474,939.4141 L474,1009.4141 L1256,1009.4141 L1256,949.4141 L1246,939.4141 L474,939.4141 " fill="#FBFB77" filter="url(#f1nia6rc1qzavc)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1246,939.4141 L1246,949.4141 L1256,949.4141 L1246,939.4141 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="761" x="480" y="956.481">MRunAgent returns true, because its MeasurementState was INITIAL_STATE at the beginning of this sequence diagram.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="740" x="480" y="971.6138">Now it is changed to RUNNING. (If it would have been RUNNING at the beginning already, MRunAgent's start method</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="495" x="480" y="986.7466">would have returned false immediately, and the state wouldn't have changed.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="475" x="480" y="1001.8794">State management is considered private and a matter of implementation.</text><!--
@startuml



":Model" - -> ":MRunReaction": new MRunReaction()
":MRunReaction" - ->> ":Model": ":MRunReaction"
":Model" - -> ":MRunInfo": new MRunInfo(["InCh1", "InCh2"],\n{"InCh1": [-1.0, -2.0], "InCh2": [-999.0, 999.0]},\n1000, 8000)
":MRunInfo" - ->> ":Model": ":MRunInfo"
note over ":MRunReaction": This sequence diagram use "sameMRunInfo"\nto reference this data structure. 
":Model" - -> ":MRunAgent": start(sameMRunInfo,  [ :MRunReaction]) 


":MRunAgent" - -> ":MRunTiming": new MRunTiming(sameMRunInfo)
note right
	An intersection\nof including and included\nis advantageous  here.
end note

ref over ":MRunAgent"
	Initialization of MRunTiming
end ref
":MRunTiming" - ->> ":MRunAgent": :MRunTiming
":MRunAgent" - -> ":MRunTiming": getMStreamListener()
":MRunTiming" - ->> ":MRunAgent": :MStreamListener

loop  not only for "InCh1", but the same for "InCh2" too
	":MRunAgent" - -> ":SshCommandFactory": createMRunThread("InCh1", :MStreamListener)
	":SshCommandFactory" - -> ":SshToPi": new SshToPi(sameInitData)
	":SshToPi" - ->> ":SshCommandFactory": ssh1:SshToPi
	":SshCommandFactory" - -> ":SshCommandMRunAtPi": new SshCommandMRunAtPi(:SshToPi, "InCh1", :MStreamListener)
	":SshCommandMRunAtPi" - ->> ":SshCommandFactory": runnable1:SshCommandMRunAtPi
	":SshCommandFactory" - -> ":MRunThread": new MRunThread(:SshCommandMRunAtPi)
	":MRunThread" - ->> ":SshCommandFactory": thread1:MRunThread
	":SshCommandFactory" - ->> ":MRunAgent": thread1:MRunThread
end

loop  not only for "InCh1", but the same for "InCh2" too
	":MRunAgent" - -> "thread1:MRunThread": start()
	":MRunThread" - ->> ":MRunAgent"
end
	":MRunAgent" - -> ":MRunTiming": addMRunListener(:MRunReaction)
	":MRunAgent" - -> ":MRunTiming": startRepeatedTimer()
	":MRunTiming" - -> ":TimerTask": new TimerTask(self, 1000)
	":TimerTask" - -> ":MRunTiming": ":TimerTask"
	":MRunTiming" - -> ":MRunAgent": void
	":MRunAgent" - ->> ":Model": true
note right
	  MRunAgent returns true, because its MeasurementState was INITIAL_STATE at the beginning of this sequence diagram.
	  Now it is changed to RUNNING. (If it would have been RUNNING at the beginning already, MRunAgent's start method
	  would have returned false immediately, and the state wouldn't have changed.
	  State management is considered private and a matter of implementation. 
end note







@enduml

PlantUML version 1.2019.06(Fri May 24 19:10:25 CEST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_212-8u212-b03-0ubuntu1.16.04.1-b03
Operating System: Linux
OS Version: 4.15.0-54-generic
Default Encoding: UTF-8
Language: de
Country: DE
--></g></svg>